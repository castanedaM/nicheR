% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_g_space.R
\name{plot_g_space}
\alias{plot_g_space}
\title{Plot geographic space with suitability, distance, and occurrences}
\usage{
plot_g_space(
  env_bg = NULL,
  suitable_env = NULL,
  occ_pts = NULL,
  show.occ.density = FALSE,
  colors = NULL,
  palette = "default",
  show.in.plot = NULL,
  vs = NULL,
  niche = NULL
)
}
\arguments{
\item{env_bg}{Optional background environment used mainly to define the map
extent. Can be:
\itemize{
  \item a \code{terra::SpatRaster} or \code{raster::Raster*} object,
  \item a \code{data.frame} or \code{matrix} with columns \code{x}, \code{y},
    and optionally additional predictors.
}}

\item{suitable_env}{Optional suitability object, used when plotting
binary suitability and/or distance-to-centroid surfaces. This can be:
\itemize{
  \item a \code{data.frame} or \code{matrix} with columns \code{x}, \code{y}
    (and optionally \code{dist_sq}),
  \item a \code{"suitable_env"} object returned by \code{\link{get_suitable_env}},
  \item a \code{NicheR_species} suitability object inside \code{vs},
  \item a \code{terra::SpatRaster} or a list of \code{SpatRaster} objects
    containing layers named \code{"suitable"} and/or \code{"dist_sq"}.
}
For memory efficiency, the most efficient input is a data frame of suitable
cells (with \code{x}, \code{y}, and optionally \code{dist_sq}). If only
rasters are available, they are converted to a data frame via
\code{as.data.frame.nicheR()}, which may be slow for large rasters.}

\item{occ_pts}{Optional data frame of occurrence points with columns
\code{x}, \code{y} (assumed longitude/latitude in WGS84). If omitted and
\code{vs} is provided, occurrences are retrieved via \code{nr_get_occ(vs)}.}

\item{show.occ.density}{Reserved for future use (currently ignored).}

\item{colors}{Optional named list to override aesthetics. Recognized names:
\code{bg} (basemap fill), \code{suitable_env} (suitable tiles),
\code{occ_fill}, \code{occ_stroke}, and \code{dist} (RColorBrewer palette
name for the distance tiles).}

\item{palette}{Character palette key. One of \code{"default"},
\code{"palette2"}, or \code{"palette3"}.}

\item{show.in.plot}{Character vector specifying what to show in the plot.
  This controls which surfaces are drawn and whether occurrences are
  overlaid. It accepts both abbreviations and full names:
  \itemize{
    \item \code{"suit"} or \code{"suitability"}: plot the binary suitable environments.
    \item \code{"dist"} or \code{"distance"}: plot the distance-to-centroid surface.
    \item \code{"occ"} or \code{"occurrences"}: overlay occurrence points
          on all panels (if available).
    \item \code{"bg"} or \code{"background"}: only affects messaging; the
          basemap is always drawn.
    \item \code{"none"}: no suitability/distance surfaces (only basemap and,
          if requested via \code{"occ"}, occurrences).
  }

  \strong{Combinations} are allowed, for example:
  \itemize{
    \item \code{show.in.plot = c("suit", "occ")}:
          one panel with suitable environments and occurrences.
    \item \code{show.in.plot = c("suit", "dist", "occ")}:
          two panels, one for suitability and one for distance, both with occurrences.
    \item \code{show.in.plot = "dist"}:
          one panel with the distance surface only.
  }

  If \code{show.in.plot} is \code{NULL}, the function chooses a default:
  \itemize{
    \item If a suitability object is available, defaults to
          \code{c("suitability", "occurrences")} when occurrences exist,
          otherwise just \code{"suitability"}.
    \item If no suitability is available but occurrences exist, defaults to
          \code{"occurrences"}.
    \item Otherwise defaults to \code{"none"}.
  }

  A brief message is printed indicating the resolved mode and reminding the
  user to set \code{show.in.plot} explicitly if a different combination is desired.}

\item{vs}{Optional object of class \code{"NicheR_species"} created by
\code{\link{create_virtual_species}}. When provided, any of \code{env_bg},
\code{suitable_env}, \code{occ_pts}, or \code{niche} that are \code{NULL}
will be filled from this object via the \code{nr_get_*()} helpers.}

\item{niche}{Optional object of class \code{"ellipsoid"} (from
\code{\link{build_ellps}}). Currently not required for plotting but kept
for possible future extensions.}
}
\value{
A \code{ggpubr} object produced by \code{\link[ggpubr]{ggarrange}},
  containing one or two map panels plus a matching legend panel.
}
\description{
Draws a basemap and overlays any combination of:
\itemize{
  \item binary suitable environments (tiles),
  \item an optional continuous distance-to-centroid surface,
  \item occurrence points.
}
}
\details{
The map extent is primarily inferred from \code{env_bg} (if available),
otherwise from the coordinates in \code{suitable_env} and finally from
\code{occ_pts}, always with a small buffer where needed.

When a \code{NicheR_species} object (\code{vs}) is supplied, any of
\code{env_bg}, \code{suitable_env}, \code{occ_pts}, or \code{niche} that are
\code{NULL} are filled using the generic getters:
\code{nr_get_env()}, \code{nr_get_suitable_all()}, \code{nr_get_occ()}, and
\code{nr_get_niche()}.
}
\seealso{
\code{\link{build_ellps}}, \code{\link{get_suitable_env}},
  \code{\link{create_virtual_species}}, \code{\link{nr_get}}
}
\concept{plotting functions}

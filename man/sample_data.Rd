% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sample_data.R
\name{sample_data}
\alias{sample_data}
\title{Sample Occurrence Locations from Predicted Niche Outputs}
\usage{
sample_data(
  n_occ,
  suitable_env,
  sampling = c("random", "center", "edge"),
  method = c("distance", "probability"),
  truncation = TRUE,
  seed = NULL,
  verbose = TRUE
)
}
\arguments{
\item{n_occ}{Integer. Number of occurrence points to sample.}

\item{suitable_env}{A \code{terra::SpatRaster} or \code{data.frame}
containing prediction outputs from \code{predict()}.
Must include coordinate columns (\code{x}, \code{y}) or longitude/latitude
variants (e.g., \code{lon}, \code{lat}, \code{longitude}, \code{latitude}).}

\item{sampling}{Character. One of \code{"random"}, \code{"center"}, or
\code{"edge"}.}

\item{method}{Character. One of \code{"distance"} or \code{"probability"}.
#' @param truncation Logical. If \code{TRUE} (default), sampling is restricted
  to environmentally suitable cells when truncated layers
  (\code{Mahalanobis_trunc} or \code{suitability_trunc}) are available.
  If \code{FALSE}, sampling is performed across all finite prediction values.}

\item{seed}{Optional integer. If provided, sets the random seed for
reproducibility.}

\item{verbose}{Logical. If \code{TRUE}, prints progress messages.}
}
\value{
A \code{data.frame} containing sampled geographic coordinates (\code{x}, \code{y}).
}
\description{
Samples occurrence points from predicted niche outputs generated by
\code{\link{predict.nicheR_ellipsoid}}. Sampling can be performed using either
Mahalanobis distance or suitability values, with options to emphasize
niche center, niche edge, or uniform random selection.
}
\details{
The function operates on predicted outputs in geographic space (G-space),
but sampling weights are determined by environmental suitability or
Mahalanobis distance in environmental space (E-space).


The input \code{suitable_env} must contain prediction outputs from
\code{predict()}, including:

\itemize{
  \item \code{Mahalanobis} (squared Mahalanobis distance), and optionally
  \code{Mahalanobis_trunc}
  \item \code{suitability}, and optionally \code{suitability_trunc}
}

Sampling behavior depends on \code{method} and \code{sampling}:

\strong{method = "distance"}
\itemize{
  \item center: favors small Mahalanobis distance (niche core)
  \item edge: favors large Mahalanobis distance (near ellipsoid boundary)
  \item random: uniform sampling
}

\strong{method = "probability"}
\itemize{
  \item center: favors high suitability values
  \item edge: favors low suitability values (but still > 0)
  \item random: uniform sampling
}

If truncated layers are available (\code{Mahalanobis_trunc} or
\code{suitability_trunc}), sampling is restricted to environmentally suitable
cells.

Sampling is performed without replacement.
}
\examples{
\dontrun{
pred <- predict(ell,
                newdata = bios,
                include_mahalanobis = TRUE,
                include_suitability = TRUE,
                suitability_truncated = TRUE)

occ <- sample_data(n_occ = 100,
                   suitable_env = pred,
                   sampling = "center",
                   method = "probability",
                   seed = 42)
}

}
